(this.webpackJsonptrx_dapp_demo=this.webpackJsonptrx_dapp_demo||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),i=n.n(a),r=n(23),s=n.n(r),o=n(12),l=n(57),d=n(34),u=n(47),b=n(48),j=n(21);d.a.use(l.a).use(j.e).init({resources:{en:{translation:u},zh:{translation:b}},fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1}});d.a;var O=n(5),f=n(4),v="visibilityState"in document;function m(){return!v||"hidden"!==document.visibilityState}function h(){var e=Object(a.useState)(m()),t=Object(f.a)(e,2),n=t[0],c=t[1],i=Object(a.useCallback)((function(){c(m())}),[c]);return Object(a.useEffect)((function(){if(v)return document.addEventListener("visibilitychange",i),function(){document.removeEventListener("visibilitychange",i)}}),[i]),n}var p=n(13),x=Object(p.b)("application/updatestate"),g=function(){return(new Date).getTime().toString()};function w(){var e=Object(a.useState)({chainId:null,emitTronLinkEvent:null,account:""}),t=Object(f.a)(e,2),n=t[0],c=t[1],i=Object(o.b)(),r=h(),s=Object(a.useCallback)((function(e){r&&(e.data.message&&"setAccount"==e.data.message.action&&c((function(e){return window.tronWeb.defaultAddress.base58!==e.account?Object(O.a)(Object(O.a)({},e),{},{emitTronLinkEvent:g(),account:window.tronWeb.defaultAddress.base58}):e})),e.data.message&&"setNode"==e.data.message.action&&c((function(e){return Object(O.a)(Object(O.a)({},e),{},{emitTronLinkEvent:g()})})))}),[n,c]);Object(a.useEffect)((function(){return window.addEventListener("message",s,!1),function(){window.removeEventListener("message",s,!1)}}),[]);var l=function(e,t){var n=Object(a.useState)(e),c=Object(f.a)(n,2),i=c[0],r=c[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){r(e)}),t);return function(){clearTimeout(n)}}),[e,t]),i}(n,50);return Object(a.useEffect)((function(){r&&i(x({chainId:l.chainId,emitTronLinkEvent:l.emitTronLinkEvent}))}),[i,r,l]),null}var E=n(18),N=n.n(E),T=n(27),k=Object(p.b)("application/updatebalance"),A=0,S=function(e){var t=Object(a.useState)({}),n=Object(f.a)(t,2),c=n[0],i=n[1];return Object(a.useEffect)((function(){var e=setInterval((function(){var t,n,c;A>=300?(clearInterval(e),window.tronWeb?i({defaultAddress:window.tronWeb.defaultAddress,isConnect:!1}):i({defaultAddress:null,isConnect:!1})):window.tronWeb&&(null===(t=window)||void 0===t||null===(n=t.tronWeb)||void 0===n||null===(c=n.defaultAddress)||void 0===c?void 0:c.base58)&&(clearInterval(e),i({defaultAddress:window.tronWeb.defaultAddress,isConnect:!0}));A+=10}),0)}),[e]),c};function C(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.application})).emitTronLinkEvent,n=S(t),c=n.isConnect,i=n.defaultAddress;return Object(a.useEffect)((function(){c&&h&&function(){var t=Object(T.a)(N.a.mark((function t(){var n,c,a,r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(k({loading:!0})),t.next=3,Promise.all([window.tronWeb.trx.getBalance(i.base58),window.tronWeb.trx.getBandwidth(i.base58)]);case 3:n=t.sent,c=Object(f.a)(n,2),a=c[0],r=c[1],e(k({bandWidth:r,walletAddr:i.base58,balance:window.tronWeb.fromSun(a),loading:!1}));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[c,i,h]),null}var L,y,W=n(56),I=n(31);!function(e){e[e.MAINNET=0]="MAINNET",e[e.TESTNET=1]="TESTNET",e[e.UNNET=2]="UNNET"}(L||(L={})),function(e){e[e.TABREPLY=0]="TABREPLY",e[e.SETACCOUNT=1]="SETACCOUNT",e[e.SETNODE=2]="SETNODE"}(y||(y={}));var z=Object(p.c)({chainId:null,emitTronLinkEvent:null},(function(e){return e.addCase(x,(function(e,t){var n=t.payload,c=n.chainId,a=n.emitTronLinkEvent;e.chainId=c,e.emitTronLinkEvent=a}))})),_=Object(p.c)({balance:0,bandWidth:0,walletAddr:"",loading:!1},(function(e){return e.addCase(k,(function(e,t){var n=t.payload,c=n.balance,a=n.bandWidth,i=n.walletAddr,r=n.loading;void 0!==c&&(e.balance=c),void 0!==a&&(e.bandWidth=a),void 0!==i&&(e.walletAddr=i),void 0!==r&&(e.loading=r)}))})),M=["application"],B=Object(p.a)({reducer:{application:z,user:_},middleware:[].concat(Object(W.a)(Object(p.d)({thunk:!1,immutableCheck:!1,serializableCheck:!1})),[Object(I.save)({states:M})]),preloadedState:Object(I.load)({states:M})}),D=(n(73),n(35)),J=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(w,{}),Object(c.jsx)(C,{})]})};!function(){var e=document.getElementsByTagName("html")[0],t=function(){e.style.fontSize=Math.min(Math.max(document.body.clientWidth,320)/7.5,100)+"px"};window.addEventListener("resize",t,!1),t()}(),s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsxs)(o.a,{store:B,children:[Object(c.jsx)(J,{}),Object(c.jsx)(D.d,{})]})}),document.getElementById("root"))},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return S})),n.d(t,"d",(function(){return M})),n.d(t,"c",(function(){return B}));var c=n(5),a=n(15),i=n(17),r=n(1),s=n(0),o=n.n(s),l=(n(74),n(6)),d=n.n(l),u=function(e){var t=e.className,n=e.children,s=Object(i.a)(e,["className","children"]);return Object(r.jsx)("div",Object(c.a)(Object(c.a)({className:d()("c-box",Object(a.a)({},t,t))},s),{},{children:n}))},b=n(4),j=(n(75),n(36)),O=n(22),f=n(102),v=n(12);var m=n(18),h=n.n(m),p=n(27),x=n(51),g=n(52),w=n(58),E=n(55),N=function(e){return function(t){Object(w.a)(a,t);var n=Object(E.a)(a);function a(e){var t;return Object(x.a)(this,a),(t=n.call(this,e)).state={component:null},t}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var t=Object(p.a)(h.a.mark((function t(){var n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:n=t.sent,c=n.default,this.setState({component:c});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.component;return e?Object(r.jsx)(e,Object(c.a)({},this.props)):null}}]),a}(o.a.Component)};var T=n(53);n.n(T).a.create({timeout:1e4});var k;function A(){var e=document.documentElement.scrollTop;clearInterval(k),k=setInterval((function(){var t=Math.max(1,.125*e);(e-=t)>0?document.documentElement.scrollTop=e:(document.documentElement.scrollTop=0,clearInterval(k))}),16)}var S=function(e){var t,n=e.className,o=e.scrollToTop,l=void 0!==o&&o,u=e.zeroHeight,m=void 0!==u&&u,h=Object(i.a)(e,["className","scrollToTop","zeroHeight"]),p=Object(s.useState)(!1),x=Object(b.a)(p,2),g=x[0],w=x[1],E=Object(s.useState)(!0),N=Object(b.a)(E,2),T=N[0],k=N[1],S=Object(f.a)().i18n,C=Object(v.c)((function(e){return e.user}));console.log(C),Object(s.useEffect)((function(){var e=document.documentElement;function t(){var t=0===(null===e||void 0===e?void 0:e.scrollTop);t!==T&&k(t)}return window.addEventListener("scroll",t,!1),function(){window.removeEventListener("scroll",t)}}),[T]);var L,y=Object(s.useCallback)((function(e){S.changeLanguage(e),w(!1)}),[]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",Object(c.a)(Object(c.a)({className:d()("c-header",(t={},Object(a.a)(t,n,n),Object(a.a)(t,"zero-height",m),Object(a.a)(t,"fixed",!T),t))},h),{},{children:Object(r.jsxs)("div",{className:"inner",children:[Object(r.jsx)(O.b,{className:"logo",to:"/",children:Object(r.jsx)("img",{src:j.a,alt:"logo"})}),Object(r.jsx)("div",{className:"address",children:(L=C.walletAddr,L?L.substr(0,4)+"***"+L.substr(L.length-4):L)}),Object(r.jsx)("div",{className:"language",onClick:function(){w(!g)},children:"zh"===S.language?"\u4e2d\u6587":"English"}),Object(r.jsxs)("ul",{className:d()("language-selector",{active:g}),children:[Object(r.jsx)("li",{onClick:function(){y("en")},children:"English"}),Object(r.jsx)("li",{onClick:function(){y("zh")},children:"\u4e2d\u6587"})]})]})})),l&&Object(r.jsx)("div",{className:d()("scrollToTop",{active:!T}),onClick:A})]})},C=(n(99),n.p+"static/media/welcome.58632c08.png"),L=n(3),y=N((function(){return n.e(5).then(n.bind(null,110))})),W=N((function(){return n.e(3).then(n.bind(null,109))})),I=N((function(){return n.e(4).then(n.bind(null,111))})),z=function(){var e=Object(v.c)((function(e){return e.user}));return Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)("header",{className:"App-header",children:[Object(r.jsxs)("h5",{children:["\u5730\u5740\uff1a",e.walletAddr]}),Object(r.jsxs)("h5",{children:["trx\u4f59\u989d\uff1a",e.balance]}),Object(r.jsxs)("h5",{children:["\u5e26\u5bbd\uff1a",e.bandWidth]}),Object(r.jsx)("h5",{children:e.loading?"loading...":"complete"})]})})};var _=function(){return Object(r.jsx)(O.a,{children:Object(r.jsxs)(L.c,{children:[Object(r.jsx)(L.a,{exact:!0,path:"/",component:y}),Object(r.jsx)(L.a,{exact:!0,path:"/game",component:W}),Object(r.jsx)(L.a,{exact:!0,path:"/egg",component:I}),Object(r.jsx)(L.a,{exact:!0,path:"/test",component:z})]})})},M=function(){var e=Object(s.useState)(0),t=Object(b.a)(e,2),n=t[0],c=t[1];return Object(s.useEffect)((function(){var e=1200,t=document.body;setTimeout((function(){c(1)}),e),setTimeout((function(){c(2)}),1500),setTimeout((function(){t.className="in"}),2130),setTimeout((function(){c(3)}),5630),setTimeout((function(){c(4)}),6630)}),[]),Object(r.jsxs)(r.Fragment,{children:[n<4&&Object(r.jsxs)("div",{className:d()("c-welcome",{passed:n>=3}),children:[Object(r.jsx)("div",{id:"light",className:d()({pass:n>=1,passed:n>=2})}),Object(r.jsx)("div",{id:"wave",className:d()({pass:n>=2})}),Object(r.jsx)("div",{id:"stage",children:Object(r.jsx)("div",{id:"hero",children:Object(r.jsx)("img",{src:C,alt:""})})}),Object(r.jsx)("div",{id:"title",children:Object(r.jsx)("div",{children:"2020"})}),Object(r.jsxs)("div",{id:"ringgroup",className:d()({pass:n>=1}),children:[Object(r.jsx)("div",{className:"ring"}),Object(r.jsx)("div",{className:"ring"}),Object(r.jsx)("div",{className:"ring"}),Object(r.jsx)("div",{className:"ring"})]})]}),Object(r.jsx)(_,{})]})},B=(n(100),function(e){var t=e.className,n=e.children,o=e.labels,l=Object(i.a)(e,["className","children","labels"]),u=Object(s.useState)(0),j=Object(b.a)(u,2),O=j[0],f=j[1];return Object(r.jsxs)("div",Object(c.a)(Object(c.a)({className:d()("c-tab",Object(a.a)({},t,t))},l),{},{children:[Object(r.jsx)("div",{className:"c-tab-labels",children:o.map((function(e,t){return Object(r.jsx)("span",{className:d()({active:O===t}),onClick:function(){f(t)},children:e},t)}))}),Object(r.jsx)("div",{className:"c-tab-content",children:s.Children.toArray(n)[O]})]}))})},36:function(e,t,n){"use strict";t.a=n.p+"static/media/ball.5c61f894.png"},47:function(e){e.exports=JSON.parse('{"not_yet_start":"Not Yet Start"}')},48:function(e){e.exports=JSON.parse('{"not_yet_start":"\u8fd8\u6ca1\u6709\u5f00\u59cb"}')},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},99:function(e,t,n){}},[[101,1,2]]]);